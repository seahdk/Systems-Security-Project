<!DOCTYPE html>
<html lang="en">
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Register</title>
		<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
	</head>
	<body>
		<div class="register">
			<h1>Register</h1>
			<div style="display:flex; justify-content:center" class="links">
				<a href="{{ url_for('login') }}">Login</a>
				<a href="{{ url_for('register') }}" class="active">Register</a>
			</div>
			<form action="{{ url_for('register') }}" method="post" autocomplete="off">
				<label for="username">
					<i class="fas fa-user"></i>
				</label>
				<input type="text" name="username" placeholder="Username" id="username" required>
				<label for="password">
					<i class="fas fa-lock"></i>
				</label>
				<input type="password" name="password" placeholder="Password" id="password" required>
				<label for="email">
					<i class="fas fa-envelope"></i>
				</label>
				<input type="email" name="email" placeholder="Email" id="email" required>

				<em>*</em>
				<label for="country">
				<i class="fas fa-globe"></i>
				</label>

				<select name="country" id="country" required>
				</select><em>*</em>


				<div class="form-input" id="user-role">
                <input type="radio" id="user" name="role" value="user" required>
                User
                <input type="radio" id="admin" name="role" value="admin" required>
                Admin
            	</div>
				<input type="tel" id="phone" name="phone" placeholder="Phone: +65 12345678" pattern="+[0-9]{2}-[0-9]{8}" required
					   style="text-align: center;">
				<div>
                    <h2 style="align:centre;">Captcha</h2>
                    <img src=" ../static/{{num}}.png" alt="">
                </div>
                <input type="text" name="captcha" placeholder="Captcha" id="captcha" required>
				<div class="msg">{{ msg }}</div>

				<input type="submit" value="Register">
			</form>
		</div>
	</body>


<script>
	let url = 'https://trial.mobiscroll.com/content/countries.json';

	fetch(url)
		.then(res => res.json())
		.then((countries_json) => {
			dropdown = document.getElementById("country");
			for (var i = 0; i < countries_json.length; i++) {
				// POPULATE SELECT ELEMENT WITH JSON.
				dropdown.innerHTML = dropdown.innerHTML +
					'<option value="' + countries_json[i]['text'] + '">' + countries_json[i]['text'] + '</option>';
			}
		})
		.catch(err => { throw err });

</script>


</html>
